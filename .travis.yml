language: ruby
arch:
  - amd64
  - ppc64le

rvm:
  - 2.7.7
  - 2.7.8
  - 3.0.4
  - 3.0.6
  - 3.1.2
  - 3.1.4
  - 3.2.2
  - ruby-head
  - jruby-head

jobs:
  exclude:
  # ref: https://rubies.travis-ci.org/index.txt
  - rvm: 2.7.8
    arch: ppc64le
  - rvm: 3.0.6
    arch: ppc64le
  - rvm: 3.1.4
    arch: ppc64le
  - rvm: 3.2.2
    arch: ppc64le

  - rvm: 2.7.7
    arch: amd64
  - rvm: 3.0.4
    arch: amd64
  - rvm: 3.1.2
    arch: amd64

notifications:
  recipients:
    - karl@kandrsoftware.com
branches:
  only:
    - master
    - develop
before_install:
  # ensure that we are building/testing againt the newest depencency versions
  - rm -f Gemfile.lock
bundler_args: --without development
